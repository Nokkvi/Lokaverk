<!DOCTYPE html>
<html lang="is">
    <head>
    <meta charset="utf-8">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
      <title>Bootstrap 101 Template</title>

      <!-- Bootstrap -->
      <link href="/node_modules/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">
      <link rel="stylesheet" type="text/css" href="languages.min.css">
      <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    </head>
    <body>
    <nav class="navbar navbar-default">
      <div class="container-fluid">
        <div class="navbar-header">
            <a class="navbar-brand" href="index.html">Verkefni 4</a>
        </div>
        <ul class="nav navbar-nav">
          <li class="dropdown">
            <a class="dropdown-toggle" data-toggle="dropdown">Departures
            <span class="caret"></span></a>
            <ul class="dropdown-menu">
              <li><a href="departures_en.html"><span class="lang-lg lang-lbl-en" lang="en"></span></a></li>
              <li><a href="departures_is.html"><span class="lang-lg lang-lbl-en" lang="is"></span></a></li>
            </ul>
          </li>
          <li class="dropdown">
            <a class="dropdown-toggle" data-toggle="dropdown">Arrivals
            <span class="caret"></span></a>
            <ul class="dropdown-menu">
              <li><a href="arrivals_en.html"><span class="lang-lg lang-lbl-en" lang="en"></span></a></li>
              <li><a href="arrivals_is.html"><span class="lang-lg lang-lbl-en" lang="is"></span></a></li>
            </ul>
          </li>
        </ul>
      </div>
    </nav>

    <div class="container">
      <h2>Lendingar</h2>
      <table class="table table-bordered">
          <thead>
            <tr>
              <th>Airline</th>
              <th>Date</th>
              <th>Flight Number</th>
              <th>Planned Arrival</th>
              <th>Real Arrival</th>
              <th>Status</th>
            </tr>
          </thead>
          <tbody id="myData">
            
          </tbody>
      </table>
    </div>
  <script>
    
    $(document).ready(function() {
      $.ajax({
          'url': 'http://apis.is/flight',
          'type': 'GET',
          'dataType': 'json',
          'data': {'language': 'is', 'type': 'arrivals'},
          'success': function(response) {
            console.log(response);
            $.each(response.results, function(indexInArray, value){
                      var row = "<tr><td>" + value.airline + "</td><td>" + value.date + "</td><td>" + value.flightNumber + "</td><td>" + value.plannedArrival + "</td><td>" + value.realArrival + "</td><td>" + value.status + "</td></tr>";
                      $('#myData').append(row);
                    })
          }
      });
    })

    </script>
  


    
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="/node_modules/bootstrap/dist/js/bootstrap.min.js"></script>
    </body>
</html>